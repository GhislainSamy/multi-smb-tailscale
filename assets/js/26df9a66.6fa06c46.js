"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[719],{2752:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-a3b6b3b321b3ae34acf7a09d1bec9254.png"},2773:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-2-a9bd51c9c32a1a138a3d8a914d0cfd2f.png"},4942:(e,n,s)=>{s.d(n,{A:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiIAAABrCAYAAABKfOmnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABmZVhJZklJKgAIAAAAAQBphwQAAQAAABoAAAAAAAAAAwAAkAcABAAAADAyMzABoAMAAQAAAAEAAAAFoAQAAQAAAEQAAAAAAAAAAgABAAIABAAAAFI5OAACAAcABAAAADAxMDAAAAAAIvvHMbnUA7gAABMdSURBVHhe7d3PjuxGFcfxyT4zy9z8E0T8lZIskDI3iyiJ7iuwah6BJ2iJBQt4AcTtBTskeII7SwRPwJ3AghULAi9AeIMYnbLLdXzqVNnudo/dM98rfZRM2227q+yqn8tu99X777/faO+9917Ru++++2S88847AArefvttAFjE1ZQQYjtpOmoswe6MAICnpw8iNnw89QBiCwrAw3j27BmAJyQEERtAdAj54IMPmo8//rj55JNPms8++6z58ssvN+OLL74AAAAX7MoGEB1CPvzwwzDTxz/5SfPDjz5svvOjHzbvfv97AAAAi8iCSAwht7e3zSefftp898c/yt4EAACwhEEQ0SMht59+ms0MAACwpD6I6HtC5HIMIyEAAODcQhDR34r56KOPwj0hdkYAAIClXdmv5sq3Y+TGVDsjyl68eIECW1YAAGh9EInPz5Cv6PLtmHls54vElhUAAFoIIvpBXvJ8DjvTudnOa212+8bY9yOxZQUAgJYFEblR1c5k/ebl705il2c7r7XZ7Rtj34/ElhUAANqVfaz51CDyj3/+Z9TPf/Hb7L8EkafFlhUAANrRQeSv918d5RKDiP33p7/8edPbvyW2LAEA0I4OIm+88UZzdXU12yUFkV/++lfNt00T/qu396u//635+t//bt77wfc3uf1bYusaAACNIOKI2yX/JGxIEIn/JID89Ge7MCoSR0bs+5HYugYAQDs5iMR/Nph8++23WQi5lCAiweP3f/xDCBoSRL753/9C+JBtlX/yX/n7X19/vcnt3xJb1wAAaCcFEflng0d87ZKDiGyTXH6RQCLk/+O2SiiJ///fb77Z5PZvia1rAAC0PohICDkliFgSRLzplxZE4shI3FYdRBgRGWfrWl/mkrK1ZQoAeFoWCyJ2RMT+/6UFEQkf0lFKxyn3hchr8nfsNLlHZBpb1/d/+6q/zCVlKf/st5AAAE/HSUEkhg35Z+8R0UFEj45cShCRzlI6SrlHREZH5J/8VzpN+ce3ZqaxdQ0AgHZyEJnrUoKIiKHDbq9l34/ElhUAABpBxKG3TUZG7L94qWar278ltq4BANCODiKnsMuzndfa7PaNse9HYssKAADtqCCyNNt5rc1u3xj7fiS2rAAA0AgiDrt9Y+z7kdiyAgBAI4g47PYBAIDz2EQQAQAATxNBBAAArCYEkRhCCCIAAOAhEUQAAMBqCCIAAGA1BBEAALAaN4i8+eabAAAAZ3eRQcQ+9wPbYusLAIASgggWZ+sLAICSTQeR69t9c3d/39wHd83+9jq8bjs+bIutxyl2h/vmbn/bXDvTLsHu5euw/fb1hxLLL/59u7/rjpv75v6wy+Y/t7nrb7f/efj/6+vbZn933xx2N9l8Wpzv/m7f3F63bcOx1q6/LZla/mOm1M+wjR/uw+dW2765++/S1lx/KJdXr5vDzq+zc1g1iNQ6n3YHTeGj/fvQ7K6vs44P22LrcoyuWzvtFGOdy+3+VTjYTm14ZftfvV5++6eqlZ80aK8fuCHTpIzHGtJ++2/a8p9aH7WOZI61668khjOvfTynqeU/Zqx+rq93zeFe1nN91Ge04Xuuse0Tl3D8LI0g0kkHQp5SZX7b8WFbbD2PifVqXz/VWBCR6SmISOg9ruGV7X9VWc+5SWNV+pyX0JDG+o/twFId4VRr11/JpQeRMbUAPcWpQWSKSzh+lrapIBIbNz1EpCu9T5P9sNpwh6pND4WrhuPsENT17qVb+Ne7Q3jddnzYlmwfqJxxtGdFaeQr1fO+338Ou/bMKVyee36jGsr4ejetW8ZgWNPdvw75tM7chq3f/uep0fYO5LBPq3LIj49h8I6dc2gIK9sm63/5elh+WqkhzdefdwhSTnHdcf26U5SOoPb+dv31htSt/75+n6ttHJaxLhe7/FT+/v7hrl/Xn3zu0v4XR2gr5eedSIV9rqv/8f233D5eX+dl6Mm3L408VI+vW7195fIfU6uffhuPDCKDZZvy0fPV9s9BG1HYvn5dzvRa+fbznPn4kROp/v13++b5Tf7+kniMDLdfjUiG40d/Rv/4WcogiDx79mwQROIHDAePulQSN1Q3jGF+faBl0++yDqk0IpKGzPWBemh2sg13+6zjw7bEeuwP1koQ8Q60GBRkH9gd5GCR/S6dpaVGIDWOYf+yDVFlRKTdR1+1+7O5NDBHXK/uINKBrDuiYRDxPne2XNXA2EuVej6voaxNj+XnHZ+xMWvroNz5yPy64Q2NqtMYTvqche2L+0B4LTTqeWNdfH9oZE3n7myHW39dB9Luf3E/S+FirH1LHbmu/zyIZOHZ7r8njIh4nysqHl/dPjun/Md4nyvsk6oDTOYtvzYiEvsQPa/XDnnHx5TptfIV5z5+wvzqdfv3mNLnEjqkxDIsbcdS6kFkcAaXzly8a6pzpsfXvCCiO4g4/SZ2FASRi2B3shKvww6vq0Y7HgCp83w+aOj74Xz1nricehCRkYR2Hw2dvLx3xhlFu4x8O/rXpwSRSsOrO7Z2mfnxk9bvN3ZxObbB8c5E7ciAd2zWxPKf2pCG9zgd9vB1Pcrkj/x4Hd2U8rfrz85k+/2vXf7NTQpvY+2b97m8IFKaHl87OYgUwnXx+OrC1ZzyH+PVT79MZz+coxZELK98hXd8TJleK19xzuPHHqvhNWefrGnDoD//1ONnSfUg4lSA0Adq/5o+qMemd695ldUWghSQzN8d2LEQCCIXwe4vJd5+El93G8qFgkh7luvxD8wSb53h9YkHctuYdet2zhrta1ap8bLLsQ2pty268/HK12o7EVN+zrbU25F8O+y2pNf8jtArp6nlX6y/sSDi7Le6zG5GgsZDBBHRdjb5/lU8vh5RECntn7auveNj6vRi+Z75+HHfG8yrn/ZkKG1/HN2Zevws6bgg4qSv5UZE4pmqzN+dsXb3jIQDiHtENs/uLyWxobWvFxvKhYJImF/20VfDzqY0zFpSagjnHshxfn281RrwyDt+LK8h9ToAfZaVytpftje9FIpq7UipfuZ0hF45TS3/Yv2NBZGR9m0saIxNH27f8UEkiuuL+3jx+HokQUR/lv41p3yFd3zMmR6WbcvXOT68+Y89frwRkVPo7e//nnD8LOm4IOJUdLhxRh9odrpzjS7spKbw2/cOg0hssGR+KRzb8WFbBnVZuEekb4Scoc1iQzkziIT3OuuO8+vOptRolIw1ouF4iAd26Lj8cojs8VZrwOMya+vXy7ENqW4I42vx+IzHYlh/qX66e7di+ce/7bHcLsdvR7zOPC0/7wjD9jnL8cppSkNaKz+7b2RBZEL7pre3P4OdGURC3Tlleoz4OY4NIqXyH+PVT1Srgyli/2GPqTY0pfLV+6ed1zs+5kzX88Xy7f8+4/EzpT765U4oY/05pxw/SzsqiIj0If1hr7Hp7TxdRzUYHpJCSPeIyOt3+/1gR7IdH7Ylq1+n7u2BO9gvSg3lzCDi7V96HfHAmzKyYI0eH4Ph00Oze97dh6KC+mBY1emEasuvTc8+t/f5JxyfoXFS82RncP20u2a/S/fZTFl/rYF332+Hju10tfwpDWmt/saCSLuOevll9d9dVu7rf0IQyfaTwvFiueWjll08vkwQsWU7Zd3F9XfLGMx3YhDJ1jM4vl+qdav9c3CzsL99R01/4OMn2zfM9HYeP4i4y9c3qk84fpZWDCJrkoNDn21YtuPDttj6svQwtp12CY4dpl7KYyi/JYeW51q7/gAMbTKItEk5NRQhoe1T2rMdH7bF1icAACWbDCJiOHQ1HMYEgKcouyRkFS43LeXc6z/38rFNmw0iAADg8SOIAACA1VzFEEIQAQAAD+2sQaT/mpDztZ/2e9brXfdbe/1L0OVrv3/ez2Oewlf7NhKOd+6vtwHAY+UGkf4BTPZGoZlfGawFkaj2PIGHUHuewNpKTw6MxoKIfXCOnb51pSevbtHSQcT7rr99hoXeN9pgPXyy5+DYXXDbAGBJbhDRMxzzsKc5CCJlY0FkzKkPDFrbUw0iMUiU6j7U692deUCT/O0/YrwPJhvdzwE8bScFkfjk09awwwsd/IRLH6Ug4p3V2a/w2q/42u2sbV9afzmIDN5/RCcTHvOt128e9zt8+l/qdO0T+XpqO235ek89PFcQaX/7Z9/Xz2EXv3Jnnv0yqL+0Hamj1F/VS+8dXDYzn19/zlr9xqcD2mXofWhQP4VRpZrh+tM+cuqTCfVIlp0WpndP6dwf0m87Hfa79CORJoiI2pNYAWBNRwcR6QizRt1paEtBY2z6WMPZhpDypSJ5v74kEToNp7MpBZH4LP/Y8cW/7Xwl7frNbzWo8gmPka5sf3xP6axYr8d20MUgs1AoiQFKyrftjOVzpM4v/vpodumgK/8UUtLTNb3PURsRKdVvLF9dX2mEIS3L1qf9e4z+LZmwDhU0Tg0iYfldyPEuq8Ugcrs7hDK+3R/c8rcjIqVgAwBrOjqIWKWGthQ0xqa3Z8XljnNKJ63F31eYEkS8R2ifOrqgf79C/q51stGUz+h14NGp21yi6zrWn76ccOOsVz/WW3eM9rdidP1MKaO0Td6vm6YgqPcz7xHj7X1R08rKe0T40kGkfY8a8XNDz6453B2aw0H+Pw8igxDqHGMAsAVHBxH7bQw9NK3nKwWNKdPbMJI3pFPO8ErbNymIeO8N6iMYdhnZDb+VjtJzsUGk9ANe3WdeIoi4dTRxRMR974z69ULLOYJI/974tMm4/HBprP1ssYx0mdoRERFHpI5ZPwCc01FBJDa0upMsNbS1oDFlelh2PMPLOha/k9bTax2dcIOIMyIyh+34wmtqRMSb7rnYIOKsd8kRkVr9DoKIDhmDX2/NR0Tm8IJI2I/OFETC+0OZdveAqCCiyWcuBZFz7QsAcKojg4gMTetr0O3fXkM7FjTGpuv5dOPbjpb4Dav92qo+o5wSREQ8o/Y6+DFp/W1HZ89o5bXwuQvbH005iz0liPTbVZnHMxpEnKAYytPcIzIWRMKync9fq982CMjf+c3Bmh4xmcsG8fZ+HzMio+4h6UfHnM8yld4XavusLv+xEZGx+u+P6yOnA8AURwURETojPaS9626gU2eE2dC3GdGYNd1pxNswkubJzpC97RvcLJmvP501O/M4jX9J3znZ9avPMPjmi/rWTL8Muw26fCrl279/JIiIduRg3ujPWBAZhINIffapQST7nLp+SvU7CHrl8smW7ZRfzeDyjmy3GZEZXv45NLvnef2X1C7ryfSpQaT0/n49BBEAG9AHEQkh4vPPP89mwuM1ZWTm0vSXMfTNqGYUDwCwDQSRJyqdsdcvYVyidrTE+1bMvJEfAMD5EUTwKOWXZo6/ORUAcD4EEQAAsBqCCAAAWM3FBpEXL15gg2w9AQBQs+kgMvwK5PBGQ9sBYhtsHU5V+po4AOBxWzWI1Dof/STJ9Hf6mqntALENth6nsHW7FHmoWO3JtPGHG9NzTbiZFQAe2iaDiH7glX5dvgkR57cdILbB1vEUsV7t66caCyIyPQURCb0EEQB4aMUgImeL0ojrp5fqRj176qc5o61Nt08U7cUnhxZ+SyM8H6J7uqbtALENg/qK+4DzVM80T/67Pm097/v957CLTwC1v1Wjn96almGfuJvvX/qprEO14AIAWF41iITGOT62Xf/oVvd4bN1oez/6NZye/9ZFaUQkDZnrjubQ7GQbuse02w4Q2zAIFBOCiPe48hgUZB/YHeQx7LLfpcsnKeSmZ4N4v7lTGxFp99FX7f4cLw09sge7AcAlqAeRwe+DpDPX9imVdgRk+vT4mhdEdAfR/3ZG7Cj6ILLLOkBsw5wnl8bAai/B6V/SjUElhg/7k/e136qpBxF55Hu7j4Yg0gVcOx8A4LzqQcS5PCL0T9r3r+nOYWx691o5iEgHEa/bdz97LsuLHcbtPusAsQ12X6nx9pP4+jmDSPtDf57lb5gFANQdF0RGRjzGpsfX/CASz1S7n3KXM9bunpF4j4iMkNgOENtg95Watv6Hvzgc9oEzB5Ewv+yjr+I68ss6AICHcVwQce4BkUa/do9IOAs1Z7/xvpH8p9+HQSR2KDK/dD7yM+e2A8Q2ZPtJ4R6R2n0ZSwURe3nRriOOxuhvY9n5AADndVQQEcMbSfPOZmx6O0+86bATOxx1j0j7TYZ9uyy1DNsBYhvc+nXqvjYKsVQQ8fYvvY7X3d/eyFxNfklnyM4PACgrBpE1SedTGlKPbAeIbbD15PEu010SGzwsOz8AoGyTQSR7qqqc2e6HozO2A8Q22Lp8jGzwsOz8AICyTQYREYbaVeNuv+JpO0Bsg63Hx8gGD8vODwAo22wQAQAAjx9BBAAArIYgAgAAVhOCSAwhBBEAAPCQCCIAAGA1BBEAALAagggAAFgNQQQAAKyGIAIAAFZDEAEAAKshiAAAgNUQRAAAwGoIIgAAYDUEEQAAsJpBEHnrrbcIIgAA4MEQRAAAwGoIIgAAYDUEEQAAsBqCCAAAWA1BBAAArIYgAgAAVkMQAQAAqyGIAACA1RBEAADAaggiAABgNf8Hl66Yfw7HJCwAAAAASUVORK5CYII="},6041:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/plex-smb-diagram-ed61ffd27d194030f3dc077c841fe9ce.png"},6842:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"proxmox/networking/multi-smb-tailscale","title":"Proxmox Multi-SMB via Tailscale","description":"Contexte","source":"@site/docs/proxmox/networking/multi-smb-tailscale.md","sourceDirName":"proxmox/networking","slug":"/proxmox/networking/multi-smb-tailscale","permalink":"/multi-smb-tailscale/proxmox/networking/multi-smb-tailscale","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installation de la VM Tailscale (Contrib)","permalink":"/multi-smb-tailscale/proxmox/os/tailscale-installation-contrib"},"next":{"title":"Monitoring d\u2019un partage SMB avec Uptime Kuma","permalink":"/multi-smb-tailscale/proxmox/monitoring/smb-status"}}');var t=s(4848),r=s(8453);const a={},l="Proxmox Multi-SMB via Tailscale",c={},o=[{value:"Contexte",id:"contexte",level:2},{value:"Contexte technique",id:"contexte-technique",level:2},{value:"Sch\xe9ma d&#39;architecture",id:"sch\xe9ma-darchitecture",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Configuration initiale",id:"configuration-initiale",level:2},{value:"Cr\xe9er un compte chez Tailscale",id:"cr\xe9er-un-compte-chez-tailscale",level:3},{value:"Installer Tailscale LXC (Advertising)",id:"installer-tailscale-lxc-advertising",level:3},{value:"Configuration Access Control",id:"configuration-access-control",level:3},{value:"Installer la VM Tailscale (Contrib)",id:"installer-la-vm-tailscale-contrib",level:2},{value:"Tester la disponibilit\xe9 du serveur SMB de contrib",id:"tester-la-disponibilit\xe9-du-serveur-smb-de-contrib",level:3},{value:"Montage SMB conditionnel pour Tailscale avec Fstab et systemd",id:"montage-smb-conditionnel-pour-tailscale-avec-fstab-et-systemd",level:3},{value:"Script de montage conditionnel",id:"script-de-montage-conditionnel",level:3},{value:"Tester le script de montage",id:"tester-le-script-de-montage",level:3},{value:"Service systemd",id:"service-systemd",level:3},{value:"Activation du service",id:"activation-du-service",level:3},{value:"Avantages",id:"avantages",level:3},{value:"Tester le montage SMB conditionnel",id:"tester-le-montage-smb-conditionnel",level:3},{value:"Particularit\xe9s de ce setup :",id:"particularit\xe9s-de-ce-setup-",level:3},{value:"Configuration du serveur Samba",id:"configuration-du-serveur-samba",level:2},{value:"Installation de Samba",id:"installation-de-samba",level:3},{value:"Cr\xe9ation d&#39;un utilisateur Samba",id:"cr\xe9ation-dun-utilisateur-samba",level:3},{value:"Configuration du partage Samba",id:"configuration-du-partage-samba",level:3},{value:"Red\xe9marrer le service Samba",id:"red\xe9marrer-le-service-samba",level:3},{value:"V\xe9rification c\xf4t\xe9 client",id:"v\xe9rification-c\xf4t\xe9-client",level:3},{value:"Configuration c\xf4t\xe9 Proxmox",id:"configuration-c\xf4t\xe9-proxmox",level:2},{value:"Montage SMB sur l&#39;h\xf4te",id:"montage-smb-sur-lh\xf4te",level:3},{value:"Configuration fstab",id:"configuration-fstab",level:3},{value:"Test du montage",id:"test-du-montage",level:3},{value:"Configuration du conteneur Plex",id:"configuration-du-conteneur-plex",level:3},{value:"Configuration Plex",id:"configuration-plex",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"proxmox-multi-smb-via-tailscale",children:"Proxmox Multi-SMB via Tailscale"})}),"\n",(0,t.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,t.jsx)(n.p,{children:"L'objectif est de partager le dossier des m\xe9dias via SMB en passant par le tunnel Tailscale. Ainsi, Plex peut lire les fichiers directement et proposer d'immenses biblioth\xe8ques de contenu sans duplication, ce qui permet d'\xe9conomiser beaucoup d'espace de stockage."}),"\n",(0,t.jsx)(n.admonition,{title:"Cas d'usage",type:"info",children:(0,t.jsx)(n.p,{children:"Le syst\xe8me prend tout son sens lorsque plusieurs personnes participent au partage : chacun peut contribuer avec ses propres fichiers, et l'ensemble est rendu accessible \xe0 tous de mani\xe8re transparente."})}),"\n",(0,t.jsx)(n.h2,{id:"contexte-technique",children:"Contexte technique"}),"\n",(0,t.jsxs)(n.p,{children:["Nous avons choisi d\u2019utiliser des conteneurs ",(0,t.jsx)(n.strong,{children:"LXC"}),", car ils sont extr\xeamement l\xe9gers et performants gr\xe2ce \xe0 leur proximit\xe9 avec l\u2019h\xf4te Proxmox."]}),"\n",(0,t.jsx)(n.p,{children:"Cependant, cette approche pr\xe9sente aussi des limitations :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Dans un conteneur ",(0,t.jsx)(n.strong,{children:"non privil\xe9gi\xe9"}),", il n\u2019est pas possible de monter directement un partage SMB et de remonter ensuite ce contenu sur l\u2019h\xf4te."]}),"\n",(0,t.jsx)(n.li,{children:"Cette contrainte est li\xe9e aux restrictions du kernel et \xe0 l\u2019isolation propre aux conteneurs LXC."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Pour contourner cette limite, la solution consiste \xe0 :"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monter le partage SMB dans le conteneur avec Rclone"})," (qui utilise FUSE, compatible avec les LXC non privil\xe9gi\xe9s)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exposer ce montage via un serveur Samba"})," install\xe9 dans le conteneur, afin de rendre les donn\xe9es accessibles sur le r\xe9seau local ou depuis l\u2019h\xf4te."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"sch\xe9ma-darchitecture",children:"Sch\xe9ma d'architecture"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Sch\xe9ma Plex SMB",src:s(6041).A+"",width:"676",height:"341"})}),"\n",(0,t.jsx)(n.h2,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,t.jsx)(n.admonition,{title:"V\xe9rifications importantes",type:"warning",children:(0,t.jsx)(n.p,{children:"Avant de commencer, assurez-vous d'avoir :"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"1 conteneur LXC Tailscale (advertising)"})," : d\xe9di\xe9 exclusivement \xe0 la publication du subnet"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"1 VM Tailscale (Contrib)"}),": utilis\xe9 uniquement pour se connecter au tailnet du deuxi\xe8me contributeur"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"1 conteneur LXC Plex"})," : disposera, via des points de montage depuis l'h\xf4te, d'un acc\xe8s \xe0 plusieurs partages de contributeur"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration-initiale",children:"Configuration initiale"}),"\n",(0,t.jsx)(n.h3,{id:"cr\xe9er-un-compte-chez-tailscale",children:"Cr\xe9er un compte chez Tailscale"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Rendez-vous sur ",(0,t.jsx)(n.a,{href:"https://tailscale.com",children:"Tailscale"})]}),"\n",(0,t.jsx)(n.li,{children:"Cr\xe9ez votre compte"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installer-tailscale-lxc-advertising",children:"Installer Tailscale LXC (Advertising)"}),"\n",(0,t.jsx)(n.admonition,{title:"R\xe9f\xe9rence",type:"tip",children:(0,t.jsxs)(n.p,{children:["Suivez le guide : ",(0,t.jsx)(n.a,{href:"../os/tailscale-installation-advertising",children:"Installer le conteneur LXC Tailscale (Advertising)"})]})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-access-control",children:"Configuration Access Control"}),"\n",(0,t.jsxs)(n.p,{children:["Allez dans Access Control puis ajouter le droit SMB :\r\n",(0,t.jsx)(n.a,{href:"https://login.tailscale.com/admin/acls/file",children:"https://login.tailscale.com/admin/acls/file"})]}),"\n",(0,t.jsx)(n.p,{children:"Choisir le format JSON, voici un exemple :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="ACL Configuration"',children:'{\r\n  "ACLs": [\r\n    {\r\n      "Action": "accept",\r\n      "Users": [\r\n        "contributeur@gmail.com"\r\n      ],\r\n      "Ports": [\r\n        "192.168.x.x:139",\r\n        "192.168.x.x:445"\r\n      ]\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Ici, nous autorisons ",(0,t.jsx)(n.code,{children:"contributeur@gmail.com"})," \xe0 acc\xe9der en SMB au serveur ",(0,t.jsx)(n.code,{children:"192.168.x.x"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"installer-la-vm-tailscale-contrib",children:"Installer la VM Tailscale (Contrib)"}),"\n",(0,t.jsx)(n.admonition,{title:"R\xe9f\xe9rence",type:"tip",children:(0,t.jsxs)(n.p,{children:["Suivez le guide : ",(0,t.jsx)(n.a,{href:"../os/tailscale-installation-contrib",children:"Installer la VM Tailscale (contrib)"})]})}),"\n",(0,t.jsx)(n.h3,{id:"tester-la-disponibilit\xe9-du-serveur-smb-de-contrib",children:"Tester la disponibilit\xe9 du serveur SMB de contrib"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"apt-get install smbclient\n"})}),"\n",(0,t.jsx)(n.p,{children:"Test de connexion :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"smbclient -L //192.168.x.x -U utilisateur\n"})}),"\n",(0,t.jsx)(n.p,{children:"Exemple :"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"alt text",src:s(9688).A+"",width:"798",height:"341"})}),"\n",(0,t.jsx)(n.h1,{id:"pr\xe9paration-et-mise-en-place-pour-smb",children:"Pr\xe9paration et mise en place pour SMB"}),"\n",(0,t.jsx)(n.p,{children:"Installer les d\xe9pendances n\xe9cessaires pour le montage SMB :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"apt-get install cifs-utils\n"})}),"\n",(0,t.jsx)(n.p,{children:"Cr\xe9er le r\xe9pertoire de montage :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir /mnt/smb_contributeur\n"})}),"\n",(0,t.jsx)(n.p,{children:"Changer de propri\xe9taire en 1000:1000 :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chown -R 1000:1000 /mnt/smb_contributeur \n"})}),"\n",(0,t.jsx)(n.p,{children:"Cr\xe9er le fichier de credentials :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"nano /root/.smbcredentialscontrib\n"})}),"\n",(0,t.jsx)(n.p,{children:"Contenu :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",metastring:'title="/root/.smbcredentialscontrib"',children:"username=contrib\r\npassword=mot_de_passe_samba\n"})}),"\n",(0,t.jsx)(n.p,{children:"S\xe9curiser le fichier :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod 600 /root/.smbcredentialscontrib\n"})}),"\n",(0,t.jsx)(n.h3,{id:"montage-smb-conditionnel-pour-tailscale-avec-fstab-et-systemd",children:"Montage SMB conditionnel pour Tailscale avec Fstab et systemd"}),"\n",(0,t.jsx)(n.p,{children:"Sur Debian avec Plex, nous utilisons un partage Samba accessible via un tunnel Tailscale. Pour \xe9viter les erreurs de montage/d\xe9montage et ne monter le SMB que si Tailscale est actif, nous combinons fstab et un service systemd."}),"\n",(0,t.jsx)(n.admonition,{title:"Montages SMB conditionnels",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Garder le partage SMB dans fstab pour les permissions et options."}),"\n",(0,t.jsxs)(n.li,{children:["Ne pas le monter automatiquement au boot (",(0,t.jsx)(n.code,{children:"noauto"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Monter le SMB uniquement si Tailscale est actif."}),"\n",(0,t.jsx)(n.li,{children:"Ignorer les erreurs de d\xe9montage au reboot/shutdown."}),"\n"]})}),"\n",(0,t.jsxs)(n.p,{children:["Ajouter dans ",(0,t.jsx)(n.code,{children:"/etc/fstab"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"//192.168.x.x/video /mnt/smb_contributeur cifs credentials=/root/.smbcredentialscontrib,uid=1000,gid=1000,iocharset=utf8,vers=3.0,noauto 0 0\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"Options de montage SMB",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"uid=1000,gid=1000"})," : d\xe9finit l\u2019utilisateur et le groupe propri\xe9taire des fichiers mont\xe9s"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"iocharset=utf8"})," : gestion correcte des caract\xe8res sp\xe9ciaux dans les noms de fichiers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"vers=3.0"})," : force l\u2019utilisation de SMB version 3.0"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"noauto"})," : ne se monte pas automatiquement au boot, uniquement via ",(0,t.jsx)(n.code,{children:"mount"})," ou service"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"credentials=/root/.smbcredentials"})," : fichier contenant login et mot de passe"]}),"\n"]})}),"\n",(0,t.jsx)(n.p,{children:"Ensuite :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl daemon-reload\n"})}),"\n",(0,t.jsx)(n.h3,{id:"script-de-montage-conditionnel",children:"Script de montage conditionnel"}),"\n",(0,t.jsxs)(n.p,{children:["Fichier : ",(0,t.jsx)(n.code,{children:"/usr/local/bin/mount_smb_if_tailscale.sh"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\r\n\r\n# Timeout maximum en secondes\r\nMAX_WAIT=60\r\n# Intervalle entre chaque tentative\r\nINTERVAL=5\r\n# Temps \xe9coul\xe9\r\nELAPSED=0\r\n\r\nwhile [ $ELAPSED -lt $MAX_WAIT ]; do\r\n    # V\xe9rifie si Tailscale est actif\r\n    if tailscale status | grep -q \'100\\.\'; then\r\n        echo "Tailscale actif, montage du SMB..."\r\n        mount /mnt/smb_contributeur\r\n        exit 0\r\n    else\r\n        echo "Tailscale non actif, attente..."\r\n        sleep $INTERVAL\r\n        ELAPSED=$((ELAPSED + INTERVAL))\r\n    fi\r\ndone\r\n\r\necho "Tailscale n\'est pas actif apr\xe8s $MAX_WAIT secondes, SMB non mont\xe9."\r\nexit 1\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod +x /usr/local/bin/mount_smb_if_tailscale.sh\n"})}),"\n",(0,t.jsx)(n.h3,{id:"tester-le-script-de-montage",children:"Tester le script de montage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\r\n/usr/local/bin/mount_smb_if_tailscale.sh\r\ncd /mnt/smb_contributeur/\r\nls\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"alt text",src:s(4942).A+"",width:"546",height:"107"})}),"\n",(0,t.jsx)(n.h3,{id:"service-systemd",children:"Service systemd"}),"\n",(0,t.jsxs)(n.p,{children:["Fichier : ",(0,t.jsx)(n.code,{children:"/etc/systemd/system/mount-smb-tail.service"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[Unit]\r\nDescription=Monter SMB si Tailscale actif\r\nAfter=network-online.target tailscaled.service\r\nWants=network-online.target tailscaled.service\r\n\r\n[Service]\r\nType=oneshot\r\nExecStart=/usr/local/bin/mount_smb_if_tailscale.sh\r\nRemainAfterExit=yes\r\n\r\n# Forcer le d\xe9montage du SMB au shutdown/reboot\r\nExecStop=/bin/umount -l /mnt/smb_contributeur\r\nExecStopPost=/bin/true\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"activation-du-service",children:"Activation du service"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl daemon-reload\r\nsystemctl enable mount-smb-tail.service\r\nsystemctl start mount-smb-tail.service\n"})}),"\n",(0,t.jsx)(n.h3,{id:"avantages",children:"Avantages"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"SMB mont\xe9 uniquement si Tailscale est actif."}),"\n",(0,t.jsx)(n.li,{children:"Les erreurs de d\xe9montage au reboot sont ignor\xe9es."}),"\n",(0,t.jsx)(n.li,{children:"Le partage conserve toutes les options fstab (permissions, uid/gid, masks, etc.)."}),"\n",(0,t.jsxs)(n.li,{children:["\xc9vite les erreurs ",(0,t.jsx)(n.code,{children:"failed unmounting"})," et ",(0,t.jsx)(n.code,{children:"mount error(113)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tester-le-montage-smb-conditionnel",children:"Tester le montage SMB conditionnel"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Red\xe9marrez la VM."}),"\n",(0,t.jsx)(n.li,{children:"V\xe9rifiez le statut du service avec la commande suivante :"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl status mount-smb-tail.service\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"alt text",src:s(2773).A+"",width:"903",height:"360"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Montage SMB avec Tailscale r\xe9ussie",type:"success",children:[(0,t.jsx)(n.p,{children:"Le partage SMB a \xe9t\xe9 r\xe9cup\xe9r\xe9 avec succ\xe8s via Tailscale."}),(0,t.jsx)(n.h3,{id:"particularit\xe9s-de-ce-setup-",children:"Particularit\xe9s de ce setup :"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"fstab conserv\xe9"})," pour les options : ",(0,t.jsx)(n.code,{children:"uid/gid"}),", ",(0,t.jsx)(n.code,{children:"iocharset=utf8"}),", ",(0,t.jsx)(n.code,{children:"vers=3.0"}),", ",(0,t.jsx)(n.code,{children:"credentials"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"noauto"})})," : le partage ne se monte pas automatiquement au boot."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Montage conditionnel"})," : le SMB est mont\xe9 uniquement si Tailscale est actif, via le script ",(0,t.jsx)(n.code,{children:"/usr/local/bin/mount_smb_if_tailscale.sh"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"D\xe9montage forc\xe9 au reboot/shutdown"})," : gr\xe2ce \xe0 ",(0,t.jsx)(n.code,{children:"ExecStop=/bin/umount -l"})," dans le service systemd, le point de montage est d\xe9tach\xe9 imm\xe9diatement m\xeame si le partage est occup\xe9."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"RemainAfterExit=yes"})})," dans le service : garde l\u2019\xe9tat \u201cmont\xe9\u201d apr\xe8s l\u2019ex\xe9cution du script."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"ExecStopPost=/bin/true"})})," : ignore les erreurs de d\xe9montage, pour \xe9viter les blocages."]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"configuration-du-serveur-samba",children:"Configuration du serveur Samba"}),"\n",(0,t.jsx)(n.h3,{id:"installation-de-samba",children:"Installation de Samba"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"apt update && apt install -y samba\n"})}),"\n",(0,t.jsx)(n.h3,{id:"cr\xe9ation-dun-utilisateur-samba",children:"Cr\xe9ation d'un utilisateur Samba"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Cr\xe9er un utilisateur Linux minimal\r\nuseradd -M -s /usr/sbin/nologin contrib\r\n\r\n# Ajouter l'utilisateur \xe0 Samba\r\nsmbpasswd -a contrib\r\n# Saisir un mot de passe Samba s\xe9curis\xe9\r\n\r\n# Activer l'utilisateur\r\nsmbpasswd -e contrib\r\n\r\n# V\xe9rifier la cr\xe9ation\r\npdbedit -L\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-du-partage-samba",children:"Configuration du partage Samba"}),"\n",(0,t.jsxs)(n.p,{children:["Modifier ",(0,t.jsx)(n.code,{children:"/etc/samba/smb.conf"})," et ajouter :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",metastring:'title="/etc/samba/smb.conf"',children:"[ContribSMB]\r\n   path = /mnt/smb_contributeur\r\n   browseable = yes\r\n   read only = yes\r\n   guest ok = no\r\n   valid users = contrib\r\n   force user = contrib\r\n   force group = contrib\r\n   create mask = 0664\r\n   directory mask = 0775\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"S\xe9curit\xe9",type:"warning",children:(0,t.jsxs)(n.p,{children:["Cette configuration limite l'acc\xe8s au seul utilisateur ",(0,t.jsx)(n.code,{children:"contrib"})," et applique des permissions appropri\xe9es."]})}),"\n",(0,t.jsx)(n.h3,{id:"red\xe9marrer-le-service-samba",children:"Red\xe9marrer le service Samba"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl restart smbd\r\nsystemctl enable smbd\n"})}),"\n",(0,t.jsx)(n.p,{children:"V\xe9rifier le statut :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl status smbd\n"})}),"\n",(0,t.jsx)(n.h3,{id:"v\xe9rification-c\xf4t\xe9-client",children:"V\xe9rification c\xf4t\xe9 client"}),"\n",(0,t.jsx)(n.p,{children:"Tester sur votre poste \\192.168.x.x\\ContribSMB :"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"alt text",src:s(2752).A+"",width:"952",height:"259"})}),"\n",(0,t.jsx)(n.admonition,{type:"success",children:(0,t.jsx)(n.p,{children:"Le serveur Samba est correctement configur\xe9 et accessible sur le r\xe9seau local,\r\nle partage r\xe9cup\xe9r\xe9 via Tailscale est maintenant expos\xe9 et push\xe9 sur notre r\xe9seau local."})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-c\xf4t\xe9-proxmox",children:"Configuration c\xf4t\xe9 Proxmox"}),"\n",(0,t.jsx)(n.h3,{id:"montage-smb-sur-lh\xf4te",children:"Montage SMB sur l'h\xf4te"}),"\n",(0,t.jsx)(n.p,{children:"Cr\xe9er le r\xe9pertoire de montage :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir /mnt/smb_contributeur\n"})}),"\n",(0,t.jsx)(n.p,{children:"Cr\xe9er le fichier de credentials :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"vi /root/.smbcredentialscontrib\n"})}),"\n",(0,t.jsx)(n.p,{children:"Contenu :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",metastring:'title="/root/.smbcredentialscontrib"',children:"username=contrib\r\npassword=mot_de_passe_samba\n"})}),"\n",(0,t.jsx)(n.p,{children:"S\xe9curiser le fichier :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod 600 /root/.smbcredentialscontrib\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-fstab",children:"Configuration fstab"}),"\n",(0,t.jsxs)(n.p,{children:["Ajouter dans ",(0,t.jsx)(n.code,{children:"/etc/fstab"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"//192.168.x.x/ContribSMB /mnt/smb_contributeur cifs credentials=/root/.smbcredentialscontrib,uid=100000,gid=100000,_netdev,iocharset=utf8,vers=3.0 0 0\n"})}),"\n",(0,t.jsx)(n.p,{children:"Ensuite :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl daemon-reload\n"})}),"\n",(0,t.jsx)(n.h3,{id:"test-du-montage",children:"Test du montage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mount -a\r\ncd /mnt/smb_contributeur\r\nls\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-du-conteneur-plex",children:"Configuration du conteneur Plex"}),"\n",(0,t.jsxs)(n.p,{children:["Ajouter le mount point dans ",(0,t.jsx)(n.code,{children:"/etc/pve/lxc/<ID_CT>.conf.conf"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"mp1: /mnt/smb_contributeur,mp=/mnt/smb_contributeur\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"Num\xe9rotation des mount points",type:"info",children:(0,t.jsx)(n.p,{children:"Les mount points sont num\xe9rot\xe9s s\xe9quentiellement : mp0, mp1, mp2, etc. selon l'ordre d'ajout dans la configuration du conteneur. Vu qu'il y a mon Nas en mp0 c'est pour cela que j'ai mis mp1 ici."})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-plex",children:"Configuration Plex"}),"\n",(0,t.jsxs)(n.p,{children:["Une fois le montage fonctionnel, ajouter le chemin ",(0,t.jsx)(n.code,{children:"/mnt/smb_contributeur"})," dans la configuration des biblioth\xe8ques Plex."]}),"\n",(0,t.jsx)(n.p,{children:"Exemple :"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Exemple de montage de dossier plex",src:s(7513).A+"",width:"571",height:"250"})}),"\n",(0,t.jsx)(n.admonition,{title:"Installation termin\xe9e",type:"success",children:(0,t.jsx)(n.p,{children:"Le serveur SMB interne avec rclone est maintenant configur\xe9 et op\xe9rationnel. Le contenu du partage distant sera accessible via Samba et mont\xe9 automatiquement dans Plex."})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7513:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/exemple_plex_dossier_montage-2561411f5360800017a0fe39164a7000.png"},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},9688:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/exemple_test_smbclient-e5e78a973badc771553d3b316276cc94.png"}}]);