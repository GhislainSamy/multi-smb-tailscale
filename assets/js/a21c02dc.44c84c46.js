"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[687],{4583:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"proxmox/troubleshoot/plex_samba_transcode_issue","title":"Probl\xe8me rencontr\xe9: Plex + Samba + Tailscale","description":"Contexte","source":"@site/docs/proxmox/troubleshoot/plex_samba_transcode_issue.md","sourceDirName":"proxmox/troubleshoot","slug":"/proxmox/troubleshoot/plex_samba_transcode_issue","permalink":"/multi-smb-tailscale/proxmox/troubleshoot/plex_samba_transcode_issue","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Monitoring d\u2019un partage SMB avec Uptime Kuma","permalink":"/multi-smb-tailscale/proxmox/monitoring/smb-status"}}');var i=s(4848),r=s(8453);const a={},c="Probl\xe8me rencontr\xe9: Plex + Samba + Tailscale",o={},t=[{value:"Contexte",id:"contexte",level:2},{value:"Sympt\xf4mes",id:"sympt\xf4mes",level:2},{value:"Analyse",id:"analyse",level:2},{value:"Solutions possibles",id:"solutions-possibles",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"probl\xe8me-rencontr\xe9-plex--samba--tailscale",children:"Probl\xe8me rencontr\xe9: Plex + Samba + Tailscale"})}),"\n",(0,i.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,i.jsx)(n.p,{children:"Un serveur Plex lit des fichiers situ\xe9s sur un partage Samba accessible via un tunnel Tailscale. La majorit\xe9 des fichiers passent correctement en lecture et transcodage, mais un fichier sp\xe9cifique pose probl\xe8me."}),"\n",(0,i.jsx)(n.h2,{id:"sympt\xf4mes",children:"Sympt\xf4mes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fichier probl\xe9matique : ~8 Go, codec audio EAC3."}),"\n",(0,i.jsx)(n.li,{children:"Direct Play fonctionne sans probl\xe8me."}),"\n",(0,i.jsx)(n.li,{children:"Transcodage \xe9choue uniquement pour ce fichier quand il est lu via SMB/Tailscale."}),"\n",(0,i.jsx)(n.li,{children:"Copier le fichier localement sur le serveur permet le transcodage sans erreur."}),"\n",(0,i.jsx)(n.li,{children:"Erreur dans les logs Plex :"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Invalid decoder type 'eac3_eae'\nUsing local file path instead of URL: /mnt/smb_contrib/...taxi.mkv\n"})}),"\n",(0,i.jsx)(n.h2,{id:"analyse",children:"Analyse"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SMB / Tailscale / r\xe9seau"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"La lecture directe (Direct Play) fonctionne \u2192 bande passante et latence r\xe9seau ne sont pas en cause."}),"\n",(0,i.jsx)(n.li,{children:"Modifier Samba, SMB ou Tailscale ne r\xe9sout pas le probl\xe8me."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Codec audio"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Le probl\xe8me vient du codec audio EAC3 (Dolby Digital Plus)."}),"\n",(0,i.jsx)(n.li,{children:"Plex ne peut pas transcoder EAC3 via un flux r\xe9seau sur Linux avec la configuration actuelle."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Diff\xe9rence entre local et r\xe9seau"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"En local, Plex utilise le chemin fichier direct \u2192 d\xe9codeur natif ou hardware activation disponible \u2192 transcodage fonctionne."}),"\n",(0,i.jsx)(n.li,{children:"Sur SMB/Tailscale, le flux r\xe9seau emp\xeache Plex d\u2019utiliser le d\xe9codeur EAC3 \u2192 erreur."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"solutions-possibles",children:"Solutions possibles"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Convertir l\u2019audio en AC3/AAC"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ffmpeg -i "film.mkv" -c:v copy -c:a ac3 "film_ac3.mkv"\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pas besoin de re-encoder la vid\xe9o."}),"\n",(0,i.jsx)(n.li,{children:"Permet \xe0 Plex de transcoder depuis SMB/Tailscale."}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Copier le fichier local avant transcodage"})}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Marche pour ce fichier unique, mais pas pratique pour tous les fichiers distants."}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Activer hardware acceleration dans Plex"})}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"VA-API ou Intel QSV sur Linux."}),"\n",(0,i.jsx)(n.li,{children:"Peut permettre de transcoder EAC3 m\xeame depuis un partage r\xe9seau."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Probl\xe8me = codec EAC3 + transcodage via chemin r\xe9seau"}),", pas SMB/Tailscale."]}),"\n",(0,i.jsx)(n.li,{children:"Les fichiers de grande taille ou d\u2019autres codecs passent car Plex peut les g\xe9rer via le flux r\xe9seau."}),"\n",(0,i.jsx)(n.li,{children:"Solutions fiables : convertir l\u2019audio ou utiliser hardware acceleration."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var l=s(6540);const i={},r=l.createContext(i);function a(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);